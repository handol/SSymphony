<html lang="ko" class="canHaveFixedElements" id="facebook">
<head>
	<meta charset="utf-8">
	<meta content="noodp, noydir" name="robots">
	<meta id="meta_referrer" content="default" name="referrer">
	<title>Orchestra에 오신 것을 환영합니다. 로그인, 가입 및 더 알아보기</title>
	<link href="/stylesheets/tmp.css" rel="stylesheet">
	<style>
		*{
			margin:0px;padding:0px;
		}
		body {
			width: 1281px;
			height: 769px;
			background-color: #000;
		}

		.meeting_result_bootbox {
			position: absolute;
			top: 40px;
			left: 102px;
			width: 1074px; height: 680px;
			background-color: #69c;
		}	
		
		#result_title_box {
			width: 1074px;
			height: 50px;
		}
		
		#result_contents_box {
			width: 1074px;
			height: 607px;
			margin: 0px;
			background-color: #fff;
		}

		.result_contents {
			padding-top: 25px;
			padding-left: 40px;
			padding-right: 40px;
			padding-bottom: 5px;
			background-color: #fff;
		}

		.result_icon {
			float: right;
			vertical-align: middle;
			line-height:68px;
			margin-right: 30px;
		}

		.result_icon_button {
			margin-left: 12px;
		}
		
		.result_title {
			font-family: "Fjalla One";
			font-size: 25px;
			height: 35px;
			color: #039;
		}

		.result_subject {
			font-family: "Fjalla One";
			font-size: 25px;
			height: 35px;
			color: #69c;	
		}

		.result_time {
			margin-top: 18px;
			height: 50px;
		}

		.result_evaluate {
			height: 50px;
		}
		
		.result_contents_button {
			float: left;
		}

		#result_time_use {
			margin-top: 1px;
			margin-left: 20px;
			margin-right: 5px;
			float: left;
			font-family: "Fjalla One";
			font-size: 25px;
			color: #039;
		}

		#result_time_set {
			margin-top: 1px;
			margin-right: 10px;
			float: left;
			font-family: "Fjalla One";
			font-size: 25px;
			color: #999;
		}

		#result_time_clock {
			margin-top: 1px;
			float: left;
			font-family: "Fjalla One";
			font-size: 23px;
			color: #999;
		}

		#result_eval_meeting {
			float: left;
			margin-left: 20px;
			font-family: "Fjalla One";
			font-size: 24px;
			color: #69c;	
		}

		#result_eval_proceed {
			float: left;
			margin-left: 40px;
			font-family: "Fjalla One";
			font-size: 24px;
			color: #69c;	
		}

		#result_eval_best {
			float: left;
			margin-left: 40px;
			font-family: "Fjalla One";
			font-size: 24px;
			color: #69c;	
		}
	</style>
</head>
<body class="meeting_result">
	<div class="meeting_result_bootbox">
		
		<div class="container">
			<div class="header">
				<div id="result_title_box">
					<div class="result_icon">
						<img class="result_icon_button" src="./img/minute.png" />
						<img class="result_icon_button" src="./img/share.png" />
						<img class="result_icon_button" src="./img/exit.png" />
					</div>
				</div>
			</div>
			<div class="body" id="result_contents_box">
				<div class="meta">
				<%
					if( result.meeting_result.length > 0 ) { 
				%>
					<div class="result_title">회의 주제 - <%= result.meeting_result[0].subject %></div>
					<div class="result_subject">회의 목표 - <%= result.meeting_result[0].goal %></div>
					<div class="result_time">
						<img class="result_contents_button" src="./img/clock.png" />
						<div id="result_time_use">02:31:00</div>
						<div id="result_time_set">/ 2:00:00</div>	
						<div id="result_time_clock">(<%= result.meeting_result[0].start_time %> - <%= result.meeting_result[0].end_time %>)</div>	
					</div>
					<div class="result_evaluate">
						<%
							var satisfaction = 0;
							var ft_appraisal = 0;
							var mvp_array = {};
							var mvp = { user:"", vote:0 };
							for(var i=0; i<result.meeting_result_appraisal.length; i++) {
								satisfaction += result.meeting_result_appraisal[i].satisfaction;
								ft_appraisal += result.meeting_result_appraisal[i].ft_appraisal;
								if( typeof(mvp_array[result.meeting_result_appraisal[i].mvp]) === "undefined" ) 
									mvp_array[result.meeting_result_appraisal[i].mvp] = 1;
								else
									mvp_array[result.meeting_result_appraisal[i].mvp]++;
							}
							satisfaction = Math.floor(satisfaction / i);
							ft_appraisal = Math.floor(ft_appraisal / i);
							for(key in mvp_array)
							{
								if( mvp['vote'] < mvp_array[key] )
								{
									mvp['user'] = key;
									mvp['vote'] = mvp_array[key];
								}
							}
						%>
						<img class="result_contents_button" src="./img/badge.png" />
						<div id="result_eval_meeting">Meeting</div>
						<div>회의 만족도 - <%=satisfaction%></div>
						<div id="result_eval_proceed">Proceeding</div>
						<div>퍼실리테이션 평가 - <%=ft_appraisal%></div>
						<div id="result_eval_best">Best Member</div>
						<div>MVP - <%=mvp['user']%></div>
					</div>

					
					
					
				<%
					}
				%>
				</div>
				<div class="chart">
					<div id="user-list-chart" class="bar-chart" style="width:200px;height:200px;"></div>
					<div id="placeholder" style="width:600px;height:300px;"></div>
					<div id="" class=" input_chart"></div>
				</div>
				<div class="agenda">
					<% for(var i=0; i<result.meeting_result.length; i++) { %>
						<div><%=result.meeting_result[i].agenda_subject%></div>
						<div><%=result.meeting_result[i].agenda_goal%></div>
						<div><%=result.meeting_result[i].agenda_start_time%> ~ <%=result.meeting_result[i].agenda_end_time%></div>
						<div><%=result.meeting_result[i].user_list%></div>
					<% } %>
				</div>
			</div>
		</div>
	</div>
</body>
<!-- jQuery -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/javascripts/jquery.min.js"><\/script>')</script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
<script>window.jQuery.ui || document.write('<script src="/javascripts/jquery.ui.min.js"><\/script>')</script>
<!-- 3: if jQuery was loaded in compatibility mode, where you have to use the
		long 'jQuery(...)' instead of '$(...)' (Wordpress does this), revert
		to to "classic" jQuery behavior -->
<script>if ($ === undefined) $ = jQuery</script>
<!-- /jQuery -->
<!-- Bootstrap Components -->
<script src="/javascripts/bootstrap.min.js"></script>
<!-- Flot Plotting -->
<script src="/javascripts/libs/flot/excanvas.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.js"></script>

<!-- REQUIRED: Flot Chart Engine -->
<script src="/javascripts/libs/flot/jquery.flot.cust.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.resize.min.js"></script>	
<script src="/javascripts/libs/flot/jquery.flot.tooltip.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.orderBar.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.fillbetween.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.pie.min.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.JUMlib.js"></script>
<script src="/javascripts/libs/flot/jquery.flot.bubbles.js"></script>
<script src="/javascripts/orchestra.js"></script>
<script>
	var $chrt_border_color = "#efefef";
	var $chrt_grid_color = "#DDD"
	
	var $chrt_main = "#E24913";
	var $chrt_second = "#4b99cb";
	var $chrt_third = "#FF9F01";
	var $chrt_fourth = "#87BA17";
	var $chrt_fifth = "#BD362F";
	var $chrt_mono = "#000";

	$(document).ready(function(){
		setupUserListChart();
		setupWordChart();
	})
	
	function setupWordChart()
	{
		var d1 = [[20,20,10], [40,50,20], [70,10,5], [80,80,7]];
		var d2 = [[60,25,15], [70,40,6], [30,80,4]];
		var d3 = [[30,25,15], [24,40,6], [30,43,4]];
		var d4 = [[20,23,10], [43,24,20], [23,65,5], [60,80,4]];
		var options = { 
			series:{bubbles:{active:true,show:true,linewidth:2},editMode:'xy'},
			grid:{hoverable:true,clickable:true,editable:true }
		};
		$.plot( $("#placeholder") , [d1,d2,d3,d4], options );
	}

	function setupUserListChart()
	{
		if ($(".bar-chart").length) {
			var data1 = [];
			for (var i = 0; i <= 4; i += 1)
				data1.push([i, parseInt(Math.random() * 100)]);

			var data2 = [];
			for (var i = 0; i <= 4; i += 1)
				data2.push([i, parseInt(Math.random() * 100)]);

			var data3 = [];
			for (var i = 0; i <= 4; i += 1)
				data3.push([i, parseInt(Math.random() * 100)]);

			var ds = new Array();

			ds.push({
				data : data1,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 1,
				}
			});
			ds.push({
				data : data2,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 2
				}
			});
			ds.push({
				data : data3,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 3
				}
			});
			//Display graph
			$.plot($(".bar-chart"), ds, {
				colors : [$chrt_second, $chrt_fourth, "#666", "#BBB"],
				grid : {
					show : true,
					hoverable : true,
					clickable : true,
					tickColor : $chrt_border_color,
					borderWidth : 0,
					borderColor : $chrt_border_color,
				},
				legend : true,
				tooltip : true,
				tooltipOpts : {
					content : "<b>%x</b> = <span>%y</span>",
					defaultTheme : false
				}
			});
		}
	}
</script>
</html>